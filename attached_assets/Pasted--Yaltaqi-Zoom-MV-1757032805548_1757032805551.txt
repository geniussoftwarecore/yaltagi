أنت الآن تعمل كمطوّر رئيسي. ابنِ منصة اجتماعات فيديو ويب اسمها Yaltaqi شبيهة بميزات Zoom، تبدأ بـ MVP ثم تتوسع. نفّذ وفق المراحل أدناه. احرص على تصميم تفاعلي، أداء ممتاز، ودعم العربية (RTL) من اليوم الأول. لا أريد شيفرة في الردود، بل تنفيذ مباشر داخل المشروع مع روابط معاينة حيّة لكل مرحلة.

0) المتطلبات العامة

التقنية:

Client: React + Vite + TypeScript + TailwindCSS (دعم RTL) + Zustand (إدارة حالة) + i18next (عربي/إنجليزي).

Server (Signaling & API): Node.js + Express + WebSocket (ws) + JWT + Zod للتحقّق.

WebRTC: RTCPeerConnection + getUserMedia + getDisplayMedia.

TURN/STUN: إعداد تكامل مع coturn (ابدأ بـ STUN عام، ثم اسمح بإدخال قيم TURN من البيئة).

اختياري لاحقًا SFU: نقطة تكامل جاهزة مع LiveKit/mediasoup (واجهة مهيأة).

التصميم والبراند:

ألوان: Sky Blue (#CFEAFF تقريبًا)، Primary Blue (#1E3A8A)، Green CTA (#22C55E)، أبيض، رمادي فاتح للخلفيات.

خط: Inter أو Cairo (للعربية). زوايا مستديرة 2xl، ظلال ناعمة، مساحة بيضاء واسعة.

نمط: بسيط، حديث، أزرار بارزة خضراء، تفاعلات hover/focus، انتقالات لطيفة.

الوصول واللغة:

RTL كامل عند اختيار العربية (body[dir="rtl"]).

مفاتيح ترجمة i18n لكل النصوص (ar/en) مع خيار تبديل لحظي.

معايير وصول: تباين ألوان، مفاتيح لوحة المفاتيح، aria-labels.

1) تهيئة المشروع (Monorepo)

الهدف: إنشاء مستودع واحد باسم yaltaqi يحوي apps/client وapps/server وpackages/ui (مكتبة مكونات مشتركة).
المخرجات:

تشغيل العميل على رابط Replit (Preview) والخادم على مسار /api و/ws.

إعداد Tailwind + RTL + i18n + Zustand.

صفحة “الصيانة/الوضع التجريبي” مبدئيًا مع شعار ونص ترحيبي.

2) تصميم الواجهة التفاعلية (UI/UX Kit)

الهدف: تجهيز مكتبة مكونات قابلة لإعادة الاستخدام + صفحات أساسية.
نفّذ:

Design Tokens: ألوان/مسافات/ظلال/زوايا/تدرجات.

مكوّنات جاهزة: Button (primary/ghost/cta), Input, Select, Toggle, Tooltip, Modal/Drawer, Card, Badge, Avatar, Tabs, Toast.

NavBar علوي: شعار يلتقي يسار، قوائم (الرئيسية، الميزات، التسعير لاحقًا)، زر تبديل اللغة، زر “ابدأ اجتماع”.

Footer بسيط.

صفحات:

Landing: عنوان قوي، زر “انضم/أنشئ اجتماعًا”، قسم Features (HD Video, Screen Sharing, Chat, Breakout)، قسم How it works بثلاث خطوات، قسم CTA أخضر.

صفحة Join/Create: إدخال اسم/معرّف غرفة، اختيار المايك والكاميرا قبل الدخول (Device Check).

تجاوب كامل (Mobile/Tablet/Desktop) + حركات خفيفة.

المخرجات: رابط معاينة حيّة يبيّن التصميم متفاعلًا مع Hover/Focus/Transitions.

3) البنية الوظيفية الأولى (MVP 1–1)

الهدف: مكالمة 1–1 مستقرة عبر WebRTC.
نفّذ:

Signaling عبر WebSocket:

أحداث: join, peer-joined, offer, answer, candidate, peer-left.

إدارة غرف في الخادم بالذاكرة (Map) + فحص عدد الأقران.

Meeting Room UI:

مصغّرات فيديو (Local/Remote)، شريط أدوات سفلي: كتم/تشغيل الصوت، تشغيل/إيقاف الكاميرا، مشاركة شاشة، مغادرة، إعدادات.

لوحة جانبية: قائمة المشاركين + دردشة نصية فورية (WebSocket).

نافذة Device Settings: اختيار الميكروفون/السماعات/الكاميرا، اختبار الصوت.

الأمان: رمز دخول الغرفة (اختياري)، اسم مستعار، منع الانضمام قبل المضيف (خيار).

البيئة: مفاتيح .env للـ STUN/TURN placeholders.

اللغة: كل النصوص عبر i18n (ar/en + RTL).

المخرجات: رابط غرفة تجريبية. حين فتح تبويبين بنفس الغرفة يظهر صوت/فيديو ثنائي + مشاركة شاشة تعمل.